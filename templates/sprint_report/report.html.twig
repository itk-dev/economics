<div class="mb-10">
    <h3 class="subheading">{{ 'sprint_report.heading_overview'|trans }}</h3>
    <table class="table table-auto">
        <tbody>
        <tr class="sprint-report-table-tr-underline">
            <td class="table-td-heading">{{ 'sprint_report.sub.project'|trans }}</td>
            <td class="table-td">{{ report.projectName }}</td>
        </tr>
        <tr class="sprint-report-table-tr-underline">
            <td class="table-td-heading">{{ 'sprint_report.sub.version'|trans }}</td>
            <td class="table-td">{{ report.versionName }}</td>
        </tr>
        {% if budget is defined %}
            <tr class="sprint-report-table-tr-underline">
                <td class="table-td-heading"><label
                            for="input-budget">{{ 'sprint_report.sub.budget'|trans }}</label></td>
                <td class="table-td">
                    <form>
                        <input type="number" id="input-budget" class="sprint-report-input"
                               value="{{ budget ? budget.budget : '' }}"
                               data-project-id="{{ data.project.id }}"
                               data-version-id="{{ data.version.id }}"
                               data-sprint-report-target="budget"
                        >
                        <button type="button" class="button m-0" data-action="sprint-report#submitBudget"
                                data-sprint-report-target="budgetSubmit">
                            {{ 'sprint_report.save_budget'|trans }}
                        </button>
                    </form>
                </td>
            </tr>
        {% endif %}
        <tr class="sprint-report-table-tr-underline">
            <td class="table-td-heading">{{ 'sprint_report.sub.spent_hours'|trans }}</td>
            <td class="table-td">
                <span id="spent_hours" data-sprint-report-target="spentHours">{{ report.spentHours }}</span>
            </td>
        </tr>
        <tr class="sprint-report-table-tr-underline">
            <td class="table-td-heading">{{ 'sprint_report.sub.remaining_hours'|trans }}</td>
            <td class="table-td" id="remaining_hours">
                {{ report.remainingHours }}
            </td>
        </tr>
        <tr class="sprint-report-table-tr-underline">
            <td class="table-td-heading">{{ 'sprint_report.sub.project_hours'|trans }}</td>
            <td class="table-td" id="project_hours">
                {{ report.projectHours }}
            </td>
        </tr>
        {% if budget is defined %}
            <tr class="sprint-report-table-tr-underline">
                <td class="table-td-heading"><label
                            for="input_finished_degree">{{ 'sprint_report.sub.finished_degree'|trans }}</label></td>
                <td class="table-td">
                    <input type="number" id="input_finished_degree" class="sprint-report-input" data-sprint-report-target="finishedPercentage"
                           max="100" min="0">
                </td>
            </tr>
            <tr class="sprint-report-table-tr-underline">
                <td class="table-td-heading">{{ 'sprint_report.sub.project_forecast'|trans }}</td>
                <td class="table-td" data-sprint-report-target="projectTotalForecast"></td>
            </tr>
            <tr class="sprint-report-table-tr-underline">
                <td class="table-td-heading">{{ 'sprint_report.sub.over_under_index'|trans }}</td>
                <td class="table-td" data-sprint-report-target="overUnderIndex"></td>
            </tr>
        {% endif %}
        </tbody>
    </table>
</div>

<div class="mb-10">
    <h3 class="subheading">{{ 'sprint_report.heading_phases'|trans }}</h3>
    <table class="table table-auto">
        <thead>
        <tr>
            <th class="table-th">{{ 'sprint_report.table.epic'|trans }}</th>
            <th class="table-th">{{ 'sprint_report.table.estimate'|trans }}</th>
            <th class="table-th">{{ 'sprint_report.table.remaining_hours'|trans }}</th>
            <th class="table-th">{{ 'sprint_report.table.registered_hours'|trans }}</th>
        </tr>
        </thead>
        <tbody>
        {% for epic in report.epics %}
            <tr>
                <td class="table-td">{{ epic.name }}</td>
                <td class="table-td">{{ epic.originalEstimateSum / 60 / 60 }}</td>
                <td class="table-td">{{ epic.remainingSum / 60 / 60 }}</td>
                <td class="table-td">{{ epic.spentSum / 60 / 60 }}</td>
            </tr>
        {% endfor %}
        <tr>
            <td></td>
            <td class="table-td">{{ report.originalEstimateSum / 60 / 60 }}</td>
            <td class="table-td">{{ report.remainingHours }}</td>
            <td class="table-td">{{ report.spentHours }}</td>
        </tr>
        </tbody>
    </table>
</div>

<pagebreak />

<div class="mb-10">
    <h3 class="subheading">{{ 'sprint_report.heading_spent_hours'|trans }}</h3>
    <table class="table table-auto">
        <thead>
        <tr>
            <th class="table-th">{{ 'sprint_report.table.epic'|trans }}</th>
            <th class="table-th">{{ 'sprint_report.table.estimate'|trans }}</th>
            <th class="table-th">{{ 'sprint_report.table.reg'|trans }}</th>
            {% for sprint in report.sprints %}
                {% if sprint.state.value != 'FUTURE' %}
                    <th class="table-th">{{ sprint.name }}</th>
                {% endif %}
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for epic in report.epics %}
            <tr>
                <td class="table-td">{{ epic.name }}</td>
                <td class="table-td">{{ epic.originalEstimateSum / 60 / 60 }}</td>
                <td class="table-td">{{ epic.spentSum / 60 / 60 }}</td>
                {% for sprint in report.sprints %}
                    {% if sprint.state.value != 'FUTURE' %}
                        <td class="table-td">
                            {{ epic.loggedWork.get(sprint.id) / 60 / 60 }}
                        </td>
                    {% endif %}
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<pagebreak />

<div class="mb-10">
    <h3 class="subheading">{{ 'sprint_report.heading_planned_hours'|trans }}</h3>
    <table class="table table-auto">
        <thead>
        <tr>
            <th class="table-th">{{ 'sprint_report.table.epic'|trans }}</th>
            <th class="table-th">{{ 'sprint_report.table.estimate'|trans }}</th>
            <th class="table-th">{{ 'sprint_report.table.remaining_hours'|trans }}</th>
            {% for sprint in report.sprints %}
                <th class="table-th">{{ sprint.name }}</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for epic in report.epics %}
            <tr>
                <td class="table-td">{{ epic.name }}</td>
                <td class="table-td">{{ epic.originalEstimateSum / 60 / 60 }}</td>
                <td class="table-td">{{ epic.remainingSum / 60 / 60 }}</td>
                {% for sprint in report.sprints %}
                    <td class="table-td">
                        {{ epic.remainingWork.get(sprint.id) / 60 / 60 }}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
