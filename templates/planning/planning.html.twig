{% extends 'base.html.twig' %}

{% block title %}{{ 'planning.title'|trans }}{% endblock %}

{% block content %}
    <h1 class="page-title">{{ 'planning.title'|trans }}</h1>

    {{ form_start(form) }}
    {{ form_row(form.dataProvider) }}
    <div>
        <button class="button form-element">{{ 'planning.search'|trans }}</button>
    </div>
    {{ form_end(form) }}

    {% if error is not null %}
        {% include 'components/alert.html.twig' with {level: "danger", text: error} %}
    {% endif %}
    {% if planningData is not null %}
        <div class="planning-wrapper">

            {% set svg_expand %}
                <svg class="planning-svg" fill="none" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"></path>
                </svg>
            {% endset %}
            {% set svg_hide %}
                <svg class="planning-svg" fill="none" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"></path>
                </svg>
            {% endset %}

            {% set weeks = planningData.weeks %}
            {% set assignees = planningData.assignees %}
            {% set projects = planningData.projects %}

            {% if mode is defined %}
                {% include 'planning/' ~ mode ~ '.html.twig' %}
            {% endif %}
        </div>
    {% endif %}
{% endblock %}
